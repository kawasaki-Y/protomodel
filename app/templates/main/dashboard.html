{% extends "base.html" %}

{% block title %}ダッシュボード - 事業計画システム{% endblock %}

{% block extra_head %}
<style>
.glass-effect {
    background: rgba(255, 255, 255, 0.7);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
}

.card {
    transition: all 0.3s ease;
}

.card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
}

.metric-value {
    background: linear-gradient(135deg, #0396FF, #0D47A1);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}
</style>
{% endblock %}

{% block page_title %}ダッシュボード{% endblock %}

{% block content %}
<div class="dashboard-container">
    <!-- 日付・時刻表示部分 -->
    <div class="dashboard-header">
        <div class="date-display">
            <div class="today-label">今日の日付</div>
            <div class="today-date">
                {{ today.strftime('%Y年%m月%d日') }}{{ ['月','火','水','木','金','土','日'][today.weekday()] }}曜日
            </div>
        </div>
        <div class="time-display">
            <div class="time-label">現在時刻</div>
            <div class="current-time" id="current-time">{{ today.strftime('%H:%M:%S') }}</div>
        </div>
        <div class="message-display">
            <div class="message-label">今日のお知らせ</div>
            <div class="message-content">あなたの努力は必ず実を結びます</div>
        </div>
    </div>

    <!-- 財務情報サマリー -->
    <div class="financial-summary">
        <!-- 売上情報 -->
        <div class="financial-card">
            <div class="card-title">売上推移</div>
            <div class="financial-data">
                <div class="plan-row">
                    <span>計画</span>
                    <span class="amount">¥{{ "{:,}".format(sales_plan) }}</span>
                </div>
                <div class="actual-row">
                    <span>実績</span>
                    <span class="amount">¥{{ "{:,}".format(sales_actual) }}</span>
                </div>
                <div class="progress-row">
                    <span>進捗率</span>
                    <span class="percentage">{{ (sales_actual / sales_plan * 100) | int }}%</span>
                </div>
                <div class="progress-bar">
                    <div class="progress" style="width: {{ (sales_actual / sales_plan * 100) | int }}%"></div>
                </div>
            </div>
        </div>
        
        <!-- 他の財務情報カードも同様に -->
        <!-- ... -->
    </div>

    <!-- タスク、チャート、戦略などの他のセクション -->
    <!-- ... -->
</div>

<script>
// 時計を更新する関数
function updateClock() {
    const now = new Date();
    const timeElement = document.getElementById('current-time');
    timeElement.textContent = now.toLocaleTimeString('ja-JP');
}

// 1秒ごとに時計を更新
setInterval(updateClock, 1000);

// グラフ描画などの他のJavaScript
// ...
</script>
{% endblock %} 